/* ==========================================================================
   OVERRIDES — layout propre + scène d’animation isolée
   ========================================================================== */

/* Empilement maîtrisé pour le contenu principal */
.content {
    position: relative;
    isolation: isolate;
    overflow: visible;
    z-index: 0;
}

/* Pas de scroll horizontal pendant les slides/wipes */
.main-container {
    overflow-x: hidden !important;
}

/* --------------------------------------------------------------------------
   TOOLBAR (boutons d’actions) — reste au-dessus, jamais animée
   -------------------------------------------------------------------------- */
.actions-classe {
    position: sticky;
    top: 0;
    z-index: 2000;
    transform: none !important;
    opacity: 1 !important;
    transition: none !important;
    background: #EDF3FA;
    /* optionnel : surligner la barre */
}

/* --------------------------------------------------------------------------
   SCÈNE (contenu qui s’anime) — le JS (WAAPI) pilote les transitions
   -------------------------------------------------------------------------- */
.panel-from-actions,
.panel-card {
    /* Conteneurs stables : pas de margin-collapsing, découpe OK pour wipe/clip */
    display: flow-root !important;
    overflow: hidden !important;
    contain: layout paint !important;
}

/* Carte visuelle autour du contenu (si tu utilises .panel-card) */
.panel-card {
    background: #fff;
    border: 1px solid rgba(0, 0, 0, .06);
    border-radius: 12px;
    padding: 20px 24px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, .06);
    box-sizing: border-box;
}

/* La scène est sous la toolbar, évite les micro-jumps et active le lissage GPU */
.panel-from-actions {
    position: relative;
    z-index: 1;
    min-height: 12px;
    /* anti micro-saut */
    transform: translateZ(0);
    /* GPU hint */
}

/* Le premier enfant ne “pousse” jamais le haut (anti margin-collapsing) */
.panel-from-actions> :first-child,
.panel-card> :first-child {
    margin-top: 0 !important;
}

/* Neutraliser toute transition CSS côté scène quand le JS est prêt
   (WAAPI s’occupe de transform/opacity/clip-path) */
html.js-ready .content>.panel-from-actions,
html.js-ready .panel-from-actions,
html.js-ready .panel-card {
    transition: none !important;
    will-change: transform, opacity, clip-path;
}

/* Le panneau ciblé par les animations (si tu utilises un id dédié) */
#mode-panel {
    display: flow-root;
    overflow: hidden;
    contain: layout paint;
}

/* --------------------------------------------------------------------------
   Divers utilitaires
   -------------------------------------------------------------------------- */
.divider {
    border: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, #e5e7eb, transparent);
    margin: 14px 0;
}

/* Accessibilité : respecter "réduire les animations" */
@media (prefers-reduced-motion: reduce) {

    .panel-from-actions,
    .panel-card {
        transition: none !important;
        animation: none !important;
    }
}

/* Le panel doit masquer ce qui déborde et autoriser 3D */
#mode-panel {
    overflow: hidden;
    backface-visibility: hidden;
    transform-style: preserve-3d;
}

/* Donne de la profondeur pour flip/hinge */
.panel-card {
    perspective: 1000px;
}